<div class="home_container d-flex justify-content-center align-items-center">
  <h1>New Task</h1>

  <%= form_for([@user, @task]) do |f| %>
    <div class="field">
      <%= f.label :title, "Title" %>
      <%= f.text_field :title %>
    </div>

    <div class="field">
      <%= f.label :content, "Content" %>
      <%= f.text_area :content %>
    </div>

    <div class="field">
      <%= f.label :priority, "Priority" %>
      <%= f.select :priority, ['high', 'medium', 'low'] %>
    </div>

    <div class="field">
      <%= f.label :status, "Status" %>
      <%= f.select :status, ['pending', 'progress', 'done'] %>
    </div>

    <div class="field">
      <%= f.label :start_time, "Start Time" %>
      <%= f.datetime_select :start_time %>
    </div>

    <div class="field">
      <%= f.label :end_time, "End Time" %>
      <%= f.datetime_select :end_time %>
    </div>

    <h3>Tags</h3>
    <div id="tags" data-controller="task">
      <%= f.fields_for :tags do |tags_field| %>
        <div class="tag-fields">
          <%= tags_field.label :name, "Tag Name" %>
          <%= tags_field.text_field :name %>
          <%= tags_field.check_box :_destroy %>
          <%= tags_field.label :_destroy, "Remove" %>
        </div>
      <% end %>
    </div>
    <button type="button" id="add-tag" class="btn btn-secondary">Add Tag</button>

    <div class="actions">
      <%= f.submit "Create Task" %>
    </div>
  <% end %>

  <%= link_to 'Back', user_path(@user), class: 'btn btn-secondary' %>
</div>
